<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Yaohai's Blog</title><meta name="author" content="Yaohai Zhou"><meta name="copyright" content="Yaohai Zhou"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Yaohai is a M.S. candidate with over 4 years of programming experience in various areas, including backend development, cloud &amp; distributed systems, database and machine learning; solid programming sk">
<meta property="og:type" content="website">
<meta property="og:title" content="Yaohai&#39;s Blog">
<meta property="og:url" content="http://yaohaizhou.com/index.html">
<meta property="og:site_name" content="Yaohai&#39;s Blog">
<meta property="og:description" content="Yaohai is a M.S. candidate with over 4 years of programming experience in various areas, including backend development, cloud &amp; distributed systems, database and machine learning; solid programming sk">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://yaohaizhou.com/img/avatar.JPG">
<meta property="article:author" content="Yaohai Zhou">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yaohaizhou.com/img/avatar.JPG"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://yaohaizhou.com/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Yaohai\'s Blog',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-08-02 09:24:36'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.JPG" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><hr/></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/img/bg.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Yaohai's Blog</a></span><div id="menus"><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">Yaohai's Blog</h1><div id="site_social_icons"><a class="social-icon" href="https://github.com/zyhhhy" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:zyh828482@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2023/03/21/About-Me/" title="About Me"><img class="post_bg" src="/2023/03/21/About-Me/aboutme.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="About Me"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/03/21/About-Me/" title="About Me">About Me</a><div class="article-meta-wrap"><span class="article-meta"><i class="fas fa-thumbtack sticky"></i><span class="sticky">Sticky</span><span class="article-meta-separator">|</span></span><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-22T06:14:58.000Z" title="Created 2023-03-21 23:14:58">2023-03-21</time></span></div><div class="content">
</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/08/01/LeetCode-Practice/" title="LeetCode Practice"><img class="post_bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="LeetCode Practice"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/08/01/LeetCode-Practice/" title="LeetCode Practice">LeetCode Practice</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-08-01T21:40:26.000Z" title="Created 2023-08-01 14:40:26">2023-08-01</time></span></div><div class="content">LeetCode 18
First attempt
1234567891011121314151617181920212223242526272829303132333435class Solution&#123;public:    vector&lt;vector&lt;int&gt;&gt; res;    void dfs(int len, int preSum, int target, vector&lt;int&gt; nums, vector&lt;int&gt; &amp;subNums, int idx)    &#123;        if (len &gt; 4)            return; // over length        if (preSum &gt; target)            return; // over sum        if (idx &gt;= nums.size())            return; // over length        if (preSum == target &amp;&amp; ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/01/17/Distributed-Systems-MIT6-824-Notes/" title="Distributed Systems MIT6.824 Notes"><img class="post_bg" src="/2023/01/17/Distributed-Systems-MIT6-824-Notes/gfs.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Distributed Systems MIT6.824 Notes"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/01/17/Distributed-Systems-MIT6-824-Notes/" title="Distributed Systems MIT6.824 Notes">Distributed Systems MIT6.824 Notes</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-17T23:22:11.000Z" title="Created 2023-01-17 15:22:11">2023-01-17</time></span></div><div class="content">Introduction
I am always very interested in distributed system. This month I
followed MIT 6.824
Distributed Systems and learned a lot. The course contains many
paper reading tasks and four well-designed labs, including MapReduce,
Raft, KV Raft and Sharded KV. I plan to use 1 month to finish the whole
course lecture and finish all labs. This post is my learning notes.
MapReduce
Architecture
In 2004, Jeffrey Dean and Sanjay Ghemawat raised a programming model
and an associated implementation for p ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/01/05/Cpp-Concurrency-in-Action-Note/" title="Cpp Concurrency in Action Note"><img class="post_bg" src="/2023/01/05/Cpp-Concurrency-in-Action-Note/CCIA.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Cpp Concurrency in Action Note"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/01/05/Cpp-Concurrency-in-Action-Note/" title="Cpp Concurrency in Action Note">Cpp Concurrency in Action Note</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-06T00:43:08.000Z" title="Created 2023-01-05 16:43:08">2023-01-05</time></span></div><div class="content">Ch3: Sharing data between
threads
This charpter mainly illustrates three points: problems with
sharing data between threads, protecting shared data with mutexes and
alternative facilities for protecting shared data.
Problems with
sharing data between threads
When it comes down to it, the problems with sharing data between
threads are all due to the consequences of modifying data. We call this
race condition.
The simplest way to solve race conditions is that we can wrap the
data with a protection ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/12/17/Vectorized-Similarity-Search-in-Multi-modal-Databases/" title="Vectorized Similarity Search in Multi-modal Databases"><img class="post_bg" src="/2022/12/17/Vectorized-Similarity-Search-in-Multi-modal-Databases/db.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vectorized Similarity Search in Multi-modal Databases"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/17/Vectorized-Similarity-Search-in-Multi-modal-Databases/" title="Vectorized Similarity Search in Multi-modal Databases">Vectorized Similarity Search in Multi-modal Databases</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-12-17T18:30:37.000Z" title="Created 2022-12-17 10:30:37">2022-12-17</time></span></div><div class="content">Introduction
Github
Report
Demo(GPU) Demo(CPU) Presentation
Slide
This is a class project on UCLA CS260 Machine Learning Algorithm
advised by Professor Quanquan
Gu.
We build a multimodal database including texts and images, which can
query images by texts, and vice versa. Textual and visual embeddings are
extracted by the techniques of CLIP. kNN and ANN are used as similarity
search strategies. We study the performance of this approach and achieve
achieved 96% precision rate on MS-COCO dataset.  ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.JPG" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Yaohai Zhou</div><div class="author-info__description">Yaohai is a M.S. candidate with over 4 years of programming experience in various areas, including backend development, cloud & distributed systems, database and machine learning; solid programming skills in Go, Python, C++, and SQL; hands-on experience with Gin, PyTorch and GCP; strong knowledge of algorithms, data structures.</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/zyhhhy"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/zyhhhy" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:zyh828482@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Yaohai is a M.S. candidate with over 4 years of programming experience in various areas, including backend development, cloud computing, and machine learning; solid programming skills in Python, C++, Go, Java and SQL; hands-on experience with Gin, PyTorch and GCP; strong knowledge of algorithms, data structures.</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/08/01/LeetCode-Practice/" title="LeetCode Practice"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="LeetCode Practice"/></a><div class="content"><a class="title" href="/2023/08/01/LeetCode-Practice/" title="LeetCode Practice">LeetCode Practice</a><time datetime="2023-08-01T21:40:26.000Z" title="Created 2023-08-01 14:40:26">2023-08-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/03/21/About-Me/" title="About Me"><img src="/2023/03/21/About-Me/aboutme.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="About Me"/></a><div class="content"><a class="title" href="/2023/03/21/About-Me/" title="About Me">About Me</a><time datetime="2023-03-22T06:14:58.000Z" title="Created 2023-03-21 23:14:58">2023-03-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/01/17/Distributed-Systems-MIT6-824-Notes/" title="Distributed Systems MIT6.824 Notes"><img src="/2023/01/17/Distributed-Systems-MIT6-824-Notes/gfs.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Distributed Systems MIT6.824 Notes"/></a><div class="content"><a class="title" href="/2023/01/17/Distributed-Systems-MIT6-824-Notes/" title="Distributed Systems MIT6.824 Notes">Distributed Systems MIT6.824 Notes</a><time datetime="2023-01-17T23:22:11.000Z" title="Created 2023-01-17 15:22:11">2023-01-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/01/05/Cpp-Concurrency-in-Action-Note/" title="Cpp Concurrency in Action Note"><img src="/2023/01/05/Cpp-Concurrency-in-Action-Note/CCIA.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Cpp Concurrency in Action Note"/></a><div class="content"><a class="title" href="/2023/01/05/Cpp-Concurrency-in-Action-Note/" title="Cpp Concurrency in Action Note">Cpp Concurrency in Action Note</a><time datetime="2023-01-06T00:43:08.000Z" title="Created 2023-01-05 16:43:08">2023-01-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/12/17/Vectorized-Similarity-Search-in-Multi-modal-Databases/" title="Vectorized Similarity Search in Multi-modal Databases"><img src="/2022/12/17/Vectorized-Similarity-Search-in-Multi-modal-Databases/db.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vectorized Similarity Search in Multi-modal Databases"/></a><div class="content"><a class="title" href="/2022/12/17/Vectorized-Similarity-Search-in-Multi-modal-Databases/" title="Vectorized Similarity Search in Multi-modal Databases">Vectorized Similarity Search in Multi-modal Databases</a><time datetime="2022-12-17T18:30:37.000Z" title="Created 2022-12-17 10:30:37">2022-12-17</time></div></div></div></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/Book/" style="font-size: 1.1em; color: #999">Book</a> <a href="/tags/CV/" style="font-size: 1.1em; color: #999">CV</a> <a href="/tags/Course/" style="font-size: 1.1em; color: #999">Course</a> <a href="/tags/Project/" style="font-size: 1.1em; color: #999">Project</a> <a href="/tags/Study/" style="font-size: 1.1em; color: #999">Study</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/08/"><span class="card-archive-list-date">August 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/03/"><span class="card-archive-list-date">March 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/01/"><span class="card-archive-list-date">January 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/12/"><span class="card-archive-list-date">December 2022</span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">5</div></div><div class="webinfo-item"><div class="item-name">UV :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">PV :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-08-02T16:24:36.533Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Yaohai Zhou</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>